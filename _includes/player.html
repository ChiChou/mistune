<div id="ytplayer"></div>

<noscript>
  <a href="https://www.youtube.com/watch?v={{ site.video }}" target="_blank" rel="noopener">
    <img src="https://img.youtube.com/vi/{{ site.video }}/maxresdefault.jpg" alt="Commecial">
  </a>
</noscript>
<script>
  // Load the IFrame Player API code asynchronously.
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/player_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // Replace the 'ytplayer' element with an <iframe> and
  // YouTube player after the API code downloads.
  function size() {
    const width = document.getElementById('ytplayer').parentElement.clientWidth;
    const height = width * 9 / 16;
    return { width, height };
  }

  function onYouTubePlayerAPIReady() {
    const { width, height } = size();
    const player = new YT.Player('ytplayer', {
      height,
      width,
      videoId: '{{ site.video }}'
    });

    window.addEventListener('resize', () => {
      const { width, height } = size();
      player.setSize(width, height);
    })
  }
</script>